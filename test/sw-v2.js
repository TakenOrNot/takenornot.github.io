self.addEventListener("push",e=>{let t=e.data&&e.data.text()||"Yay a message";e.waitUntil(self.registration.showNotification(t,{body:"We have received a push message",icon:"/styles/default/logo-128x128.png",tag:"push-simple-demo-notification-tag"}))}),self.onnotificationclick=function(e){console.log("On notification click: ",e.notification.tag),e.notification.close();let t="/#"+e.notification.tag;e.waitUntil(clients.matchAll({includeUncontrolled:!0}).then((function(e){let a;for(var n=0;n<e.length;n++){var i=e[n];if(new URL(i.url).pathname==t){a=i,i.focus();break}}if(!a)for(n=0;n<e.length;n++){i=e[n];if("/#lobby"==new URL(i.url).pathname){a=i,i.focus();break}}a||clients.openWindow(t)})))},importScripts("https://storage.googleapis.com/workbox-cdn/releases/5.1.2/workbox-sw.js");const CACHE="pwabuilder-page",offlineFallbackPage="offline.html";self.addEventListener("message",e=>{e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()}),self.addEventListener("install",async e=>{e.waitUntil(caches.open(CACHE).then(e=>e.add("offline.html")))}),workbox.navigationPreload.isSupported()&&workbox.navigationPreload.enable(),self.addEventListener("fetch",e=>{"navigate"===e.request.mode&&e.respondWith((async()=>{try{const t=await e.preloadResponse;if(t)return t;return await fetch(e.request)}catch(e){const t=await caches.open(CACHE);return await t.match("offline.html")}})())});